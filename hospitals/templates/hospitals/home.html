{% extends 'hospitals/base.html' %}
{% load static %}

{% block title %}Urgencio — Urgences à Paris{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h1 class="mb-3">Urgences à Paris — en temps réel</h1>
        <p class="text-muted">Consultez les hôpitaux les plus proches de vous. Source : FINESS / Île-de-France.</p>
    </div>
</div>

<div class="row">
    <div class="col-12">
        <div id="map" style="height: 500px; border-radius: 10px;"></div>
    </div>
</div>

<!-- Bloc Hôpitaux proches -->
<div class="row mt-4">
    <div class="col-12">
        <div class="d-flex flex-wrap align-items-center gap-3 mb-3">
            <h2 class="mb-0">Hôpitaux proches de vous</h2>
            <select id="filter-category" class="form-select" style="max-width: 320px;">
                <option value="">Tous les types</option>
            </select>
        </div>
        <div id="nearest-status" class="text-muted mb-3">
            <span class="spinner-border spinner-border-sm" role="status"></span>
            Recherche de votre position...
        </div>
        <div id="nearest-list" class="scroll-area">
            <div class="row" id="nearest-cards"></div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/map.js' %}"></script>
<script src="{% static 'js/nearest.js' %}"></script>
{% endblock %}
